From 4879c88d24d53b1889300635271b7212f2bbb804 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Sun, 16 Apr 2017 09:46:55 +0200
Subject: Godot: platform detection patch for AMD64 arch.


diff --git a/platform/haiku/detect.py b/platform/haiku/detect.py
index 54e227c..58b1e98 100644
--- a/platform/haiku/detect.py
+++ b/platform/haiku/detect.py
@@ -42,8 +42,12 @@ def configure(env):
 
     env.Append(CPPPATH=['#platform/haiku'])
 
-    env["CC"] = "gcc-x86"
-    env["CXX"] = "g++-x86"
+    if (is64):
+        env["CC"] = "gcc"
+        env["CXX"] = "g++"
+    else:
+        env["CC"] = "gcc-x86"
+        env["CXX"] = "g++-x86"
 
     if (env["target"] == "release"):
         if (env["debug_release"] == "yes"):
-- 
2.12.2


From 082c66892166ca0b6b4c713952a3227c8b126b2a Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Zolt=C3=A1n=20Mizsei?= <zmizsei@extrowerk.com>
Date: Sun, 16 Apr 2017 11:08:29 +0200
Subject: Build fix for Haiku


diff --git a/core/image.h b/core/image.h
index 9536d45..1e0d1d6 100644
--- a/core/image.h
+++ b/core/image.h
@@ -30,6 +30,11 @@
 #ifndef IMAGE_H
 #define IMAGE_H
 
+/*Hack to get it work on Haiku*/
+#ifdef __HAIKU__
+#include_next <kernel/image.h>
+#endif
+
 #include "color.h"
 #include "dvector.h"
 #include "math_2d.h"
-- 
2.12.2
