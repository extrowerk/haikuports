SUMMARY="A tool to unpack installers created by Inno Setup"
DESCRIPTION="Inno Setup is a tool to create installers for Microsoft Windows \
applications. innoextract allows to extract such installers under non-Windows \
systems without running the actual installer using wine. innoextract currently\
 supports installers created by Inno Setup 1.2.10 to 5.6.0.
In addition to standard Inno Setup installers, innoextract also supports some \
modified Inno Setup variants including Martijn Laan's My Inno Setup Extensions\
 3.0.6.1 as well as GOG.com's Inno Setup-based game installers."
HOMEPAGE="https://constexpr.org/innoextract/"
COPYRIGHT="2011-2019 Daniel Scharrer"
LICENSE="Zlib"
REVISION="1"
SOURCE_URI="http://constexpr.org/innoextract/files/innoextract-$portVersion.tar.gz"
CHECKSUM_SHA256="5e78f6295119eeda08a54dcac75306a1a4a40d0cb812ff3cd405e9862c285269"

ARCHITECTURES="?x86_gcc2 ?x86 x86_64"

PROVIDES="
	innoextract = $portVersion
	cmd:innoextract = $portVersion
	"
REQUIRES="
	haiku
	lib:libboost_filesystem
	lib:libboost_iostreams
	lib:libboost_program_options
	lib:libboost_system
	lib:libiconv
	lib:liblzma
	"

BUILD_REQUIRES="
	haiku_devel
	devel:libboost_filesystem
	devel:libboost_iostreams
	devel:libboost_program_options
	devel:libboost_system
	devel:libiconv
	devel:liblzma
	"
BUILD_PREREQUIRES="
	cmd:cmake
	cmd:gcc
	cmd:make
	"

TEST_REQUIRES="
	"

BUILD()
{
	export CXXFLAGS="-D_BSD_SOURCE"
	cmake . $cmakeDirArgs
	make $jobArgs
}

INSTALL()
{
	make install
}

TEST()
{
	make check
}
